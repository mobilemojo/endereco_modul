function InputFieldSuggest(e,t,n,i){function o(){a=n(l.getValue),u=new E.ValidationField({value:l.getValue(),validationType:a,onValidation:function(e,t){var n=s(e);l.expand(n)}}),d.on("keyup",function(e){f.indexOf(e.keyCode)==-1&&l.validationBehaviour(l.getValue(),c,u.validate)}),r=new Awesomplete(d[0],{minChars:1,maxItems:15,autoFirst:!0}),d.on("awesomplete-select",function(e){i&&(e.preventDefault(),i(e.originalEvent),l.close())}),d.on("awesomplete-selectcomplete",function(e){l.trigger("valueChanged",{value:e.text})}),d.blur(function(){d.removeClass("focus"),r.close()}),d.focus(function(){d.addClass("focus")})}var a,u,r,l=E.$(this),d=e&&(e instanceof jQuery||e.constructor.prototype.jquery)?e:E.$(e),s=t,c={},f=[13,37,38,39,40,9,17,18,16,20,27];return 1==d.length?(l.setAutocompleteData=function(e){r.list=e},l.getFieldNode=function(){return d},l.validationBehaviour=function(e,t,n){t.timeOut&&clearTimeout(t.timeOut),t.timeOut=setTimeout(function(){n()},100)},l.getValue=function(){return d.val()},l.setValue=function(e){d.val(e),l.trigger("valueChanged",{value:e})},l.expand=function(e){d.hasClass("focus")&&(e?(r.list=e,r.evaluate()):r.open())},l.close=function(){r.close()},o()):0==d.length?E.log.debug('Selector "'+e+'" did not match any Input Fields. Could not initialize InputFieldExpander.'):E.log.debug('Selector "'+e+'" matched more than one input field. This is not supported.'),l}function FieldCombination(e){function t(){if(o={},a=e.onValidation,u=E.getCommunicationService(),r={},l=0,e.fields)for(var t in e.fields)s.addField(t,e.fields[t])}function n(e,t,n,i){r[e]={data:t,textStatus:n},l++,l==c&&a(r,n)}function i(e,t,n,i){E.log.debug('A request has failed in ValidationField. "'+n+'"'),r[e]={data:t,textStatus:n},l++,l==c&&a(r,n)}var o,a,u,r,l,d={onValidation:function(){}},s=E.$(this),c=0;return E.validateConfig(e,d)?(s.getField=function(e){return o[e]?o[e]:(E.log.debug("Couldn't find field with key \""+e+'".'),null)},s.addField=function(e,t){o[e]?E.log.debug("Couldn't add field. Field \""+e+'" already exists.'):(o[e]=t,c++)},s.removeField=function(e){o[e]?(delete o[e],c--):E.log.debug("Couldn't remove field. Field \""+e+'" does not exist.')},s.validate=function(){l=0,r={};for(var e in o)u.sendRequest(o[e].getValidationType(),n.bind(this,e),i.bind(this,e))},s.__={},s.__.onFailure=i,s.__.onSuccess=n,t()):E.log.debug("Could not create ValidationField. No valid config Object given."),s}function ValidationField(e){function t(){o=e.value,a=e.validationType,u=e.onValidation,r=E.getCommunicationService()}function n(e,t,n){var i=a.processResponse(e);u(i,t)}function i(e,t,n){E.log.debug('A request has failed in ValidationField. "'+t+'"');var i=a.processResponse(e);u(i,t)}var o,a,u,r,l={value:"",validationType:{},onValidation:function(){}},d=E.$(this);return E.validateConfig(e,l)?(d.setValue=function(e){o=e},d.getValue=function(){return this},d.getValidationType=function(){return a},d.validate=function(){r.sendRequest(a,n,i)},t()):E.log.debug("Could not create ValidationField. No valid config Object given. "),d}function ValidationType(e,t){function n(e,t){for(var i in t)"function"==typeof t[i]?e[i]=t[i]():"object"!=typeof t[i]||E.$.isArray(t[i])?e[i]=t[i]:(e[i]={},n(e[i],t[i]))}var i,o=E.$(this),a={type:"POST"};return e.httpRequest&&(a=e.httpRequest),i=t,o.getHttpRequestConfig=function(){return a},o.getRequestBody=function(){var e={};return n(e,i),e=o.formatRequest(e)},o.formatRequest=function(e){return e},o.processResponse=function(e){return e},o}function CommunicationService(){var e,t=E.$(this),n=0,i="";return t.__={},t.setServerUri=function(t){e=t},t.getServerUri=function(){return e},t.setStandardPath=function(e){i=e},t.getStandardPath=function(){return i},t.getRequestSendCount=function(){return n},t.sendRequest=function(e,i,o,a){var u=t.getServerUri(),r=e.getRequestBody();if(u="string"==typeof a?u+a:u+t.getStandardPath(),t.isValidUri(u)){var l=e.getHttpRequestConfig();E.$.ajax({type:l.type,url:u,data:r,success:i,error:o}),n++}else E.log.error("Server URI has not been set yet, please set the serverUri to a valid value with setServerUri(uri).")},t.isValidUri=function(e){return"string"==typeof e},t}function submitForm(e){var t=e.ownerDocument.createElement("input");t.style.display="none",t.type="submit",e.appendChild(t).click(),e.removeChild(t)}function ObjectValidator(){this.validateConfig=function(e,t){for(var n in t){if(!e.hasOwnProperty(n))return E.log.debug('Config object should have property "'+n+'" but it did not.'),!1;if(E.$.isPlainObject(e[n]))return this.validateConfig(e[n],t[n])}return!0}}function submitForm(e){var t=e.ownerDocument.createElement("input");t.style.display="none",t.type="submit",e.appendChild(t).click(),e.removeChild(t)}E=function(){var e;return{getCommunicationService:function(){return e||(e=new E.Services.CommunicationService),e}}}(),E.$=jQuery.noConflict(!0),E.Services={},E.UI={},E.UI.InputFieldSuggest=InputFieldSuggest,E.FieldCombination=FieldCombination,E.ValidationField=ValidationField,E.ValidationType=ValidationType,E.Services.CommunicationService=CommunicationService,"undefined"==typeof Logger?console.log("Couldn't find Logger.js library."):(Logger.useDefaults(),Logger.setLevel(Logger.ERROR),E.log=Logger),E.submitForm=submitForm;var OV=new ObjectValidator;E.validateConfig=OV.validateConfig;